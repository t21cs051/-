{% extends "base.html" %}

{% load static %}

{% block main %}
<body>
    <h2>電力使用状況閲覧</h2>
    <div>
        <!-- 描画領域 -->
        <canvas id="bar" height="70px"></canvas>
    </div>
    <script src="{% static 'chart_js\dist\chart.umd.js' %}"></script>
    <script>

    const lineChartCtx = document.getElementById('bar').getContext('2d');
    // X軸データ
    const lineChartLabels = [
            {% for date in measurement_date %}
            '{{ date }}',
            {% endfor %}
        ];

        const lineChartData = {
            labels: lineChartLabels,
            datasets: [
                {
                    label: 'Usage',
                    backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    data : [
                        {% for value in current_value %}
                        {{ value }},
                        {% endfor %}
                    ],
                }
            ]
        };

        const lineChart = new Chart(lineChartCtx, {
            type: 'line',
            data: lineChartData,
        });

    </script>
</body>
{% endblock %}
