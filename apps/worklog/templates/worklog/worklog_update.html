{% extends "base.html" %}

{% block main %}
<br>

<div class="px-3">
	<!-- tabs -->
	<div class="col-12">
		<ul class="nav nav-tabs">
			<li class="nav-item">
		  		<a class="nav-link" aria-current="page" href="{% url "measurement:list" %}">電流記録</a>
		  	</li>
		  	<li class="nav-item">
		  		<a class="nav-link active" aria-current="page" href="{% url "worklog:list" %}">作業記録</a>
		  	</li>
		</ul>
	</div>
  
	<div class="row">
		<!-- table -->
  		<div class="col-7 p-3">
			<table class="table">
	   		<thead class="table-dark">
	      		<tr>
	          		<th>作業日時</th>
	         		<th>作業区分</th>
	          		<th>作業内容</th>
	         		<th>作業者</th>
	         		<th>編集</th>
	         		<th>削除</th>
	      		</tr>
	 		</thead>
	       	<tbody>
				{% for worklog in object_list %}
	    		<tr>
		           <td>{{ worklog.work_date }}</td>
		           <td>{{ worklog.get_work_type_display }}</td>
		           <td>{{ worklog.description }}</td>
		           <td>{{ worklog.employee }}</td>
					<td>
		          		<a class="btn btn-outline-secondary" 
							href="{% url 'worklog:update' worklog.id %}">編集</a>
		          	</td>
		   			<td>
	          			<a class="btn btn-outline-secondary" 
							href="{% url 'worklog:delete' worklog.id %}">削除</a>
	          		</td>
	        	</tr>
	        	{% endfor %}
	        </tbody>
			</table>
	  	</div>

		<!-- form -->
		<div class="col-5">
		<form class="form-horizontal" method="POST">
		{% csrf_token %}
	  	<div class="form-group row my-3">
		    <div class="col-md-6">
		      <label for="{{ form.work_date.id_for_label }}" class="col-sm-6 col-form-label">記録日時:</label>
		      {{ form.work_date }}
		    </div>
		  </div>
		  
		  <div class="form-group row my-3">
		    <div class="col-md-6">
		      <label for="{{ form.rack.id_for_label }}" class="col-sm-6 col-form-label">ラック:</label>
		      {{ form.rack }}
		    </div>
		  </div>
		
		  <div class="form-group row my-3">
		    <div class="col-md-6">
		      <label for="{{ form.work_type.id_for_label }}" class="col-sm-6 col-form-label">作業区分:</label>
		      {{ form.work_type }}
		    </div>
		  </div>
		  <div class="form-group row my-3">
		    <div class="col-md-6">
		      <label for="{{ form.description.id_for_label }}" class="col-sm-6 col-form-label">備考:</label>
		      {{ form.description }}
		    </div>
		  </div>
		  <div class="form-group row my-3">
		    <div class="col-md-6">
		      <label for="{{ form.employee.id_for_label }}" class="col-sm-6 col-form-label">備考:</label>
		      {{ form.employee }}
		    </div>
		  </div>
	    <div>
		    <button type="submit">Update</button>
		    <button><a href="{% url "worklog:list" %}">キャンセル</a></button>
		</div>
	  </form>
	  </div>
	  
</div>
</div>
{% endblock %}
