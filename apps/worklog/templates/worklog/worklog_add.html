{% extends "base.html" %}

{% block main %}
<br>

<div class="container">
	<!-- tabs -->
	<div class="col-12">
		<ul class="nav nav-tabs">
			<li class="nav-item">
				<a class="nav-link" aria-current="page" href="{% url "measurement:add" %}">電流記録</a>
			</li>
			<li class="nav-item">
				<a class="nav-link active" aria-current="page" href="{% url "worklog:add" %}">作業記録</a>
			</li>
		</ul>
	</div>

	<div class="row">
		<!-- forms -->
		<div class="col-5">
			<div class="container border border-top-0 border-1 rounded-bottom">
				<form method="POST">
					{% csrf_token %}
					<!-- date -->
					<div class="p-3 col-7">
					<label class="form-label" for="{{ form.date.id_for_label }}">作業日時</label>
						{{ form.date }}
					</div>

					<!-- work_type -->
					<div class="p-3">
						<label class="form-label">作業区分</label><br>
						{{ form.work_type }}
						<input type="radio" class="btn-check" name="work_type" id="success-outlined" value="installation" autocomplete="off" {% if form.work_type.value == "installation" %}checked{% endif %}>
						<label class="btn btn-outline-primary" for="success-outlined">設置</label>
						
						<input type="radio" class="btn-check" name="work_type" id="danger-outlined" value="removal" autocomplete="off" {% if form.work_type.value == "removal" %}checked{% endif %}>
						<label class="btn btn-outline-primary" for="danger-outlined">撤去</label>

						<input type="radio" class="btn-check" name="work_type" id="check-2-outlined" value="other" autocomplete="off" {% if form.work_type.value == "other" %}checked{% endif %}>
						<label class="btn btn-outline-primary" for="check-2-outlined">その他</label><br>
					</div>
				
					<!-- rack -->
					<div class="p-3 col-4">
						<label class="form-label" for="{{ form.rack.rack_number_for_label }}">ラック番号</label>
						{{ form.rack }}
					</div>

					<!-- description -->
					<div class="p-3">
						<label class="form-label" for="{{ form.description.id_for_label }}">作業内容</label>
						{{ form.description }}
					</div>

					<div class="p-3">
						<button type="submit" class="submit btn btn-primary">記録</button>
					</div>
				</form>
			</div>
		</div>
		
		<!-- table -->
		<div class="scrollable-container border border-top-0 border-1 rounded-bottom col-7 p-3">
			<table class="table text-center">
				<thead class="table-dark">
					<tr>
						<th>作業日時</th>
						<th>ラック番号</th>
						<th>作業区分</th>
						<th>作業内容</th>
						<th>作業者</th>
					</tr>
				</thead>
				<tbody>
					{% for worklog in object_list %}
						<tr>
							<td>{{ worklog.date }}</td>
							<td>{{ worklog.rack }}</td>
							<td>{{ worklog.get_work_type_display }}</td>
							<td>{{ worklog.description }}</td>
							<td>{{ worklog.employee }}</td>
						</tr>
						{% endfor %}
				</tbody>
			</table>
		</div>
	</div>

</div>

{% endblock %}